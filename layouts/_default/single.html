{{define "Head"}}
{{ range.Params.libs }}
{{if eq . "P5.JS" }}
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.8.0/p5.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.8.0/addons/p5.dom.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.8.0/addons/p5.sound.min.js"></script>

{{else if eq . "PHASER3"}}
<script src="//cdn.jsdelivr.net/npm/phaser@3.18.1/dist/phaser.min.js"></script>
{{ else }}
<script src="{{.}}"></script>
{{ end }}
{{ end }}
{{ end }}

{{define "header"}}
<h1>{{.Title}}</h1>

{{ end }}
{{ define "content" }}

<div class="game">
  {{.Content}}
</div>

<script>
  window.addEventListener('DOMContentLoaded', event => {
    const placeCanvasInterval = setInterval(function() {
      let main = document.querySelector('main .game');
      let IScanvas = document.querySelector('main .game canvas');
      if (!IScanvas) {
        let canvas = document.querySelector('canvas');
        document.querySelector('main .game').appendChild(canvas);
        canvas.style.display = 'block';
      }
    }, 300);
  });
</script>

{{ end }}
